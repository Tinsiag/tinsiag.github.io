{"meta":{"version":1,"warehouse":"6.0.0"},"models":{"Asset":[{"_id":"themes/particlex/source/css/main.css","path":"css/main.css","modified":1,"renderable":1},{"_id":"themes/particlex/source/images/avatar.jpg","path":"images/avatar.jpg","modified":1,"renderable":1},{"_id":"themes/particlex/source/images/b1.jpg","path":"images/b1.jpg","modified":1,"renderable":1},{"_id":"themes/particlex/source/images/background.jpg","path":"images/background.jpg","modified":1,"renderable":1},{"_id":"themes/particlex/source/images/jl.gif","path":"images/jl.gif","modified":1,"renderable":1},{"_id":"themes/particlex/source/images/loading.gif","path":"images/loading.gif","modified":1,"renderable":1},{"_id":"themes/particlex/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"themes/particlex/source/js/lib/crypto.js","path":"js/lib/crypto.js","modified":1,"renderable":1},{"_id":"themes/particlex/source/js/lib/highlight.js","path":"js/lib/highlight.js","modified":1,"renderable":1},{"_id":"themes/particlex/source/js/lib/home.js","path":"js/lib/home.js","modified":1,"renderable":1},{"_id":"themes/particlex/source/js/lib/math.js","path":"js/lib/math.js","modified":1,"renderable":1},{"_id":"themes/particlex/source/js/lib/preview.js","path":"js/lib/preview.js","modified":1,"renderable":1},{"_id":"themes/particlex/source/js/lib/search.js","path":"js/lib/search.js","modified":1,"renderable":1}],"Cache":[{"_id":"source/_posts/deploy-hexo-to-server.md","hash":"79249220da464a71dec9ebec3502f89e68d4ba7c","modified":1766293942830},{"_id":"source/about/index.md","hash":"ef374ae110cee140d6c91a77cda70cc13e3edcc3","modified":1766160133846},{"_id":"source/categories/index.md","hash":"0d4cd155a95506f168aef7c4d974a213416b98a9","modified":1766294089549},{"_id":"source/tags/index.md","hash":"617fddd94b45b3a77cb2dbb180ebca65b5d7b780","modified":1766294202580},{"_id":"themes/particlex/.npmignore","hash":"5410a1bef9807f666cd92a0d2020f700e67e4096","modified":1766159338694},{"_id":"themes/particlex/LICENSE","hash":"c42335f46096b2ec5509087ab122e5dfd43e2cf4","modified":1766159338694},{"_id":"themes/particlex/README.md","hash":"19b124670bc5c9aa8cff0fc191be1e9a40c841a0","modified":1766159338694},{"_id":"themes/particlex/_config.yml","hash":"94bf6b6cba98f19fb0be12397adb94efa74f2396","modified":1766160746350},{"_id":"themes/particlex/.github/dependabot.yml","hash":"d2adc8df9ae7f28520d2fd5c0579e75dbe352bdc","modified":1766159338694},{"_id":"themes/particlex/layout/card.ejs","hash":"65e0c46a79c02212982c8a9aef1b16bfc3430429","modified":1766159338694},{"_id":"themes/particlex/layout/categories.ejs","hash":"73ff20a582c72e7cf138c7b42006447e4a2e110a","modified":1766159338694},{"_id":"themes/particlex/layout/current.ejs","hash":"4e75c06c9d0b1336c69c210567581e7efded5621","modified":1766159338694},{"_id":"themes/particlex/layout/comment.ejs","hash":"267809e50962af7ab6bc5892855f765d754a62e4","modified":1766159338694},{"_id":"themes/particlex/layout/footer.ejs","hash":"357b2db2eab031150e06dd47695dc9916d875fc4","modified":1766159338694},{"_id":"themes/particlex/layout/import.ejs","hash":"7800720150b46a9abaf513316602a05293b3991b","modified":1766159338694},{"_id":"themes/particlex/layout/index.ejs","hash":"e7c208f1d9c0acb24f20180ffa45f48ee5ea5d71","modified":1766159338694},{"_id":"themes/particlex/layout/layout.ejs","hash":"1e63d2230a31d1a79b67c4586cbc235687e40466","modified":1766159338694},{"_id":"themes/particlex/layout/menu.ejs","hash":"1c78bd05cdfb3ae7a47ed572229a1970335fe8b8","modified":1766159338694},{"_id":"themes/particlex/layout/post.ejs","hash":"a3e567ac00d1ccd8a84525d20665318248da75a7","modified":1766159338698},{"_id":"themes/particlex/layout/posts.ejs","hash":"18209210f37d7e8775ca54e4724ce66ad09d873f","modified":1766159338698},{"_id":"themes/particlex/layout/tags.ejs","hash":"f5b821d45f2f44443adade62eb032f92215e0d62","modified":1766159338698},{"_id":"themes/particlex/source/css/main.css","hash":"d602b8ce359042e566526015518ba67a96c8ebb5","modified":1766159338698},{"_id":"themes/particlex/layout/archives.ejs","hash":"c3878ffe435aa37ba46a0ee25c34257c2f2a1d87","modified":1766159338694},{"_id":"themes/particlex/package.json","hash":"db00b08d699e394ba9c88edcf280792075e35654","modified":1766159338698},{"_id":"themes/particlex/source/js/main.js","hash":"420d9ab7f2e0cb44bdc5335389344ec1e7253db5","modified":1766159338710},{"_id":"themes/particlex/source/images/loading.gif","hash":"9c840c5c3e7b97a184deb390df2f6926d6161708","modified":1766159338710},{"_id":"themes/particlex/source/js/lib/crypto.js","hash":"3db8692ac636d9f72dc94127216d21f9793e6602","modified":1766159338710},{"_id":"themes/particlex/pnpm-lock.yaml","hash":"4c7a4f39b776af75374d0dc6f6619dcbf0e58b97","modified":1766159338698},{"_id":"themes/particlex/source/js/lib/highlight.js","hash":"58fdb5f2d5e409bfc10aac6ccc464c87327806a5","modified":1766159338710},{"_id":"themes/particlex/source/js/lib/home.js","hash":"5ec113e1d72efaab5eb31addc05eb9dcf26ce1af","modified":1766159338710},{"_id":"themes/particlex/source/js/lib/preview.js","hash":"d3050c6ed6d52e451cc1810843c5d595eadb8e5a","modified":1766159338710},{"_id":"themes/particlex/source/js/lib/math.js","hash":"f7716e83ef236818239fcae91defe730d5bfbc6d","modified":1766159338710},{"_id":"themes/particlex/source/js/lib/search.js","hash":"d507facc680300c046f2b967279959541313e1f9","modified":1766159338710},{"_id":"themes/particlex/source/images/avatar.jpg","hash":"dec1447f67590597ccb0c1cbaa7f4bf6b07f2699","modified":1766159338698},{"_id":"themes/particlex/source/images/jl.gif","hash":"c2c34d6042d73b4a425aae04265d10a5fe748180","modified":1766159338710},{"_id":"themes/particlex/source/images/b1.jpg","hash":"c6da141ef9455d544f50b5f52bedd134bc5f5f47","modified":1766159338704},{"_id":"themes/particlex/source/images/background.jpg","hash":"d4cd5b1193bcf15f9420ee92a321ab62b5b8c452","modified":1766159338706},{"_id":"public/about/index.html","hash":"7f3ca6b4f86f411e3637480c92e3bce89d7cf392","modified":1766294211639},{"_id":"public/tags/index.html","hash":"119c36afc4905e190ca531607238f0f78c75203f","modified":1766294211639},{"_id":"public/categories/index.html","hash":"dec7cf0f6e2e6a881fd97ec5760df43123b4ac65","modified":1766294211639},{"_id":"public/2025/12/20/deploy-hexo-to-server/index.html","hash":"c03d984cabf3fdd075db6467a4a78f52e7eaa8fe","modified":1766294211639},{"_id":"public/categories/部署/index.html","hash":"80ea00bb5a8b40d2b44910477c721fd30c5e41d9","modified":1766294211639},{"_id":"public/index.html","hash":"354a83675d14b44075b0ecd16f2c463430f9f3fc","modified":1766294211639},{"_id":"public/archives/index.html","hash":"feddadc6d926072b97d9712c9c628fd39cae8d9c","modified":1766294211639},{"_id":"public/archives/2025/index.html","hash":"f81a12ee987d4e814648e339b0459913d0e75c00","modified":1766294211639},{"_id":"public/archives/2025/12/index.html","hash":"c38acf50b33f0dc7036292e7ed96688f8f966a34","modified":1766294211639},{"_id":"public/tags/部署/index.html","hash":"f2b45c685b47f2cd2dc618e63fdd74cbea7bf1a9","modified":1766294211639},{"_id":"public/images/loading.gif","hash":"9c840c5c3e7b97a184deb390df2f6926d6161708","modified":1766294211639},{"_id":"public/js/main.js","hash":"a9cb52bac89783c3957c77cbb4ffc8fbb93a92a1","modified":1766294211639},{"_id":"public/css/main.css","hash":"1d10130766ea20862bbdb8c153f8c21c12de3987","modified":1766294211639},{"_id":"public/js/lib/crypto.js","hash":"bc4a0c41cf5b61faa204a2a820fc042b563142cf","modified":1766294211639},{"_id":"public/js/lib/math.js","hash":"24c182cd3f5dd1c0f0192ca4cc143de71e076d2a","modified":1766294211639},{"_id":"public/js/lib/preview.js","hash":"595cfc3aff107b8dd0fdda214995c6f1bb5be39a","modified":1766294211639},{"_id":"public/js/lib/highlight.js","hash":"a9ee0fd40904e2e50ab5ecab4c718a49c095836f","modified":1766294211639},{"_id":"public/js/lib/home.js","hash":"c2bf22772fd052cff88a9b5f547a30a6eb97e545","modified":1766294211639},{"_id":"public/js/lib/search.js","hash":"b631b87fa126a9a4a81b60b1a0516f765879963e","modified":1766294211639},{"_id":"public/images/avatar.jpg","hash":"dec1447f67590597ccb0c1cbaa7f4bf6b07f2699","modified":1766294211639},{"_id":"public/images/jl.gif","hash":"c2c34d6042d73b4a425aae04265d10a5fe748180","modified":1766294211639},{"_id":"public/images/b1.jpg","hash":"c6da141ef9455d544f50b5f52bedd134bc5f5f47","modified":1766294211639},{"_id":"public/images/background.jpg","hash":"d4cd5b1193bcf15f9420ee92a321ab62b5b8c452","modified":1766294211639}],"Category":[{"name":"部署","_id":"cuidd1bMhNs9gskVhPfjeXzCK"}],"Data":[],"Page":[{"title":"about","date":"2025-12-19T16:02:13.000Z","_content":"","source":"about/index.md","raw":"---\ntitle: about\ndate: 2025-12-20 00:02:13\n---\n","updated":"2025-12-19T16:02:13.846Z","path":"about/index.html","comments":1,"layout":"page","_id":"cuideZMagXEVd5G55pzMS460w","content":"","excerpt":"","more":""},{"title":"全部标签","type":"tags","layout":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: 全部标签\ntype: \"tags\"\nlayout: \"tags\"\n\n---","date":"2025-12-21T05:16:42.580Z","updated":"2025-12-21T05:16:42.580Z","path":"tags/index.html","comments":1,"_id":"cuidCjWAa0DoWW6n8AvZT3-3d","content":"","excerpt":"","more":""},{"title":"分类","type":"categories","layout":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: 分类\ntype : categories\nlayout : categories\n---\n","date":"2025-12-21T05:14:49.549Z","updated":"2025-12-21T05:14:49.549Z","path":"categories/index.html","comments":1,"_id":"cuidAO-BNLDoqbdQaBXU57x61","content":"","excerpt":"","more":""}],"Post":[{"title":"从零开始部署Hexo到服务器","date":"2025-12-19T17:00:00.000Z","description":"闲出屁来的产物。","_content":"\n\n# 从零开始部署Hexo到服务器\n\n## 目录\n\n- [0 运行环境](#0-运行环境)\n\n- [1 整体流程](#1-整体流程)\n\n- [2 本地安装](#2-本地安装)\n\n- [3 服务器安装](#3-服务器安装)\n  \n  - [3.1 安装Node.js和Git](#31-安装nodejs和git)\n  \n  - [3.2 安装和配置Nginx](#32-安装和配置nginx)\n  \n  - [3.3 Git配置](#33-git配置)\n- [4 部署Hexo到服务器](#4-部署hexo到服务器)\n  \n    \n\n## 0 运行环境\n\n本地Windows11\n\n服务器Debian 12\n\n## 1 整体流程\n\n1. 本地运行hexo deploy，通过git推送到服务器\n2. 在git仓库配置钩子脚本，在接收到推送后自动将最新的静态文件同步覆盖到指定的工作目录\n3. 配置nginx服务器，将请求指向该工作目录\n\n## 2 本地安装\n\n### 2.1 安装 Node.js 和 Git\n\n[Node.js安装链接](https://nodejs.org/dist/v24.12.0/node-v24.12.0-x64.msi)\n\n[Git安装包链接](https://git-scm.cn/downloads/win)\n\n#### 使用`git -v`,`node -v`验证安装\n\n```\nC:\\Users\\Admin>git -v\ngit version 2.51.0.windows.1\n```\n\n```\nC:\\Users\\Admin>node -v\nv25.2.0\n```\n\n### 2.2 安装hexo\n\n`npm install -g hexo-cli` \n\n### 2.3 初始化hexo\n\n新建一个文件夹 ，并在该文件夹路径下的终端运行`hexo init`，并安装hexo-deployer-git 插件`npm install hexo-deployer-git --save`\n\n## 3 服务器安装\n\n### 3.1 安装Node.js和Git\n\n#### 更新系统\n\n```\nsudo apt update\nsudo apt upgrade -y\n```\n\n#### 安装\n\n```\nsudo apt install -y curl\n# 安装最新Node.js\ncurl -fsSL https://deb.nodesource.com/setup_current.x | sudo -E bash -\nsudo apt install nodejs -y\n# 安装Git\nsudo apt install -y git\n```\n\n#### 验证安装\n\n```\nnode -v\nnpm -v\ngit -v\n```\n\n### 3.2 安装和配置Nginx\n\n#### 安装Nginx\n\n```\napt install -y nginx\n```\n\n##### 配置Nginx\n\n创建Hexo运行目录`mkdir -p /data/hexo` 进入到`/etc/nginx/conf.d`目录下，通过`vim default.conf`创建配置文件\n\n- 无域名配置文件 (修改IP 为实际IP值)\n\n  ```\n  server {\n      listen        80;\n      listen   [::]:80;\n      server_name  IP;\n  \n      location / {\n          root   /data/hexo;\n          index  index.html index.htm;\n      }\n  \n      error_page   500 502 503 504  /50x.html;\n      location = /50x.html {\n          root   /usr/share/nginx/html;\n      }\n  }\n  ```\n\n- 有域名且有SSL证书(修改`server_name`和SSL证书实际存放位置`ssl_certificate`,`ssl_certificate_key`)\n\n```\nserver {\n    listen 80;\n    listen [::]:80;\n    server_name 你的域名;\n\n    return 301 https://$host$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    listen [::]:443 ssl http2;\n    server_name yourdomain.com www.yourdomain.com;\n\n    ssl_certificate     yourdomain.com.pem;\n    ssl_certificate_key yourdomain.com.key;\n\n    ssl_session_timeout 1d;\n    ssl_session_cache shared:MozSSL:10m;\n    ssl_session_tickets off;\n\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n\n    root /data/hexo;\n    index index.html index.htm;\n\n    location / {\n        try_files $uri $uri/ =404;\n    }\n\n    error_page 500 502 503 504 /50x.html;\n    location = /50x.html {\n        root /usr/share/nginx/html;\n    }\n}\n```\n\n- 使用反向代理\n\n  （待更新）\n\n#### 3.3 Git配置\n##### 3.3.1 创建Git用户\n`useradd git`\n<br>\n修改git用户权限\n```\nsudo chmod 740 /etc/sudoers\nsudo vim /etc/sudoers\n```\n添加`git ALL=(ALL) ALL` \n```\n# User privilege specification\nroot    ALL=(ALL:ALL) ALL\ngit     ALL=(ALL:ALL) ALL\n```\n继续修改权限并添加密码\n```\nsudo chmod 400 /etc/sudoers\nsudo passwd git\n```\n\n##### 3.3.2 ssh免密登录\n\n在本机打开Git终端，创建密钥对`ssh-keygen`\n\n使用`ssh-copy-id`工具将公钥上传到服务器`\n\n```\nssh-copy-id -i ~/.ssh/id_ed25519.pub username@server_ip\n```\n\n**如果没有改命令(手动配置)**\n\n1. 复制本地公钥内容\n\n2. 登录到服务器，切换到git用户并执行\n\n   ```\n   mkdir -p ~/.ssh\n   echo \"粘贴公钥内容\" >> ~/.ssh/authorized_keys\n   chmod 700 ~/.ssh\n   chmod 600 ~/.ssh/authorized_keys\n   ```\n3. 测试免密登录  `ssh -v git@YourServerIp`\n\n#### 3.3.3 创建Git目录，配置hooks文件\n```\ncd ~\ngit init --bare hexo.git\nvim ~/hexo.git/hooks/post-receive\n```\n插入`git --work-tree=/data/hexo --git-dir=/home/git/hexo.git checkout -f`\n\n**修改hooks文件的权限**\n```\nchmod +x ~/hexo.git/hooks/post-receive\ncd ~\nsudo chmod -R 777 /data/hexo\n```\n**重启服务器**\n## 4 部署Hexo到服务器\n(1) 编辑本地hexo项目中`_config.yml`文件\n```\ndeploy:\n  type: git\n  repo: git@YourServerIp:/home/git/hexo.git\n  branch: master\n```\n(2) 配置Git全局变量\n<br>打开本机终端 \n```\ngit config --global user.name \"xxx\"\ngit config --global user.email \"xxx@xx.com\"\n```\n(4) 生成静态文件并推送到服务器\n`hexo clean&hexo deploy`\n\n**至此，已经全部配置完毕了**","source":"_posts/deploy-hexo-to-server.md","raw":"---\ntitle: 从零开始部署Hexo到服务器\ndate: 2025-12-20 01:00:00\ntags: \n  - 部署\ncategories: \n  - 部署\ndescription: 闲出屁来的产物。\n---\n\n\n# 从零开始部署Hexo到服务器\n\n## 目录\n\n- [0 运行环境](#0-运行环境)\n\n- [1 整体流程](#1-整体流程)\n\n- [2 本地安装](#2-本地安装)\n\n- [3 服务器安装](#3-服务器安装)\n  \n  - [3.1 安装Node.js和Git](#31-安装nodejs和git)\n  \n  - [3.2 安装和配置Nginx](#32-安装和配置nginx)\n  \n  - [3.3 Git配置](#33-git配置)\n- [4 部署Hexo到服务器](#4-部署hexo到服务器)\n  \n    \n\n## 0 运行环境\n\n本地Windows11\n\n服务器Debian 12\n\n## 1 整体流程\n\n1. 本地运行hexo deploy，通过git推送到服务器\n2. 在git仓库配置钩子脚本，在接收到推送后自动将最新的静态文件同步覆盖到指定的工作目录\n3. 配置nginx服务器，将请求指向该工作目录\n\n## 2 本地安装\n\n### 2.1 安装 Node.js 和 Git\n\n[Node.js安装链接](https://nodejs.org/dist/v24.12.0/node-v24.12.0-x64.msi)\n\n[Git安装包链接](https://git-scm.cn/downloads/win)\n\n#### 使用`git -v`,`node -v`验证安装\n\n```\nC:\\Users\\Admin>git -v\ngit version 2.51.0.windows.1\n```\n\n```\nC:\\Users\\Admin>node -v\nv25.2.0\n```\n\n### 2.2 安装hexo\n\n`npm install -g hexo-cli` \n\n### 2.3 初始化hexo\n\n新建一个文件夹 ，并在该文件夹路径下的终端运行`hexo init`，并安装hexo-deployer-git 插件`npm install hexo-deployer-git --save`\n\n## 3 服务器安装\n\n### 3.1 安装Node.js和Git\n\n#### 更新系统\n\n```\nsudo apt update\nsudo apt upgrade -y\n```\n\n#### 安装\n\n```\nsudo apt install -y curl\n# 安装最新Node.js\ncurl -fsSL https://deb.nodesource.com/setup_current.x | sudo -E bash -\nsudo apt install nodejs -y\n# 安装Git\nsudo apt install -y git\n```\n\n#### 验证安装\n\n```\nnode -v\nnpm -v\ngit -v\n```\n\n### 3.2 安装和配置Nginx\n\n#### 安装Nginx\n\n```\napt install -y nginx\n```\n\n##### 配置Nginx\n\n创建Hexo运行目录`mkdir -p /data/hexo` 进入到`/etc/nginx/conf.d`目录下，通过`vim default.conf`创建配置文件\n\n- 无域名配置文件 (修改IP 为实际IP值)\n\n  ```\n  server {\n      listen        80;\n      listen   [::]:80;\n      server_name  IP;\n  \n      location / {\n          root   /data/hexo;\n          index  index.html index.htm;\n      }\n  \n      error_page   500 502 503 504  /50x.html;\n      location = /50x.html {\n          root   /usr/share/nginx/html;\n      }\n  }\n  ```\n\n- 有域名且有SSL证书(修改`server_name`和SSL证书实际存放位置`ssl_certificate`,`ssl_certificate_key`)\n\n```\nserver {\n    listen 80;\n    listen [::]:80;\n    server_name 你的域名;\n\n    return 301 https://$host$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    listen [::]:443 ssl http2;\n    server_name yourdomain.com www.yourdomain.com;\n\n    ssl_certificate     yourdomain.com.pem;\n    ssl_certificate_key yourdomain.com.key;\n\n    ssl_session_timeout 1d;\n    ssl_session_cache shared:MozSSL:10m;\n    ssl_session_tickets off;\n\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n\n    root /data/hexo;\n    index index.html index.htm;\n\n    location / {\n        try_files $uri $uri/ =404;\n    }\n\n    error_page 500 502 503 504 /50x.html;\n    location = /50x.html {\n        root /usr/share/nginx/html;\n    }\n}\n```\n\n- 使用反向代理\n\n  （待更新）\n\n#### 3.3 Git配置\n##### 3.3.1 创建Git用户\n`useradd git`\n<br>\n修改git用户权限\n```\nsudo chmod 740 /etc/sudoers\nsudo vim /etc/sudoers\n```\n添加`git ALL=(ALL) ALL` \n```\n# User privilege specification\nroot    ALL=(ALL:ALL) ALL\ngit     ALL=(ALL:ALL) ALL\n```\n继续修改权限并添加密码\n```\nsudo chmod 400 /etc/sudoers\nsudo passwd git\n```\n\n##### 3.3.2 ssh免密登录\n\n在本机打开Git终端，创建密钥对`ssh-keygen`\n\n使用`ssh-copy-id`工具将公钥上传到服务器`\n\n```\nssh-copy-id -i ~/.ssh/id_ed25519.pub username@server_ip\n```\n\n**如果没有改命令(手动配置)**\n\n1. 复制本地公钥内容\n\n2. 登录到服务器，切换到git用户并执行\n\n   ```\n   mkdir -p ~/.ssh\n   echo \"粘贴公钥内容\" >> ~/.ssh/authorized_keys\n   chmod 700 ~/.ssh\n   chmod 600 ~/.ssh/authorized_keys\n   ```\n3. 测试免密登录  `ssh -v git@YourServerIp`\n\n#### 3.3.3 创建Git目录，配置hooks文件\n```\ncd ~\ngit init --bare hexo.git\nvim ~/hexo.git/hooks/post-receive\n```\n插入`git --work-tree=/data/hexo --git-dir=/home/git/hexo.git checkout -f`\n\n**修改hooks文件的权限**\n```\nchmod +x ~/hexo.git/hooks/post-receive\ncd ~\nsudo chmod -R 777 /data/hexo\n```\n**重启服务器**\n## 4 部署Hexo到服务器\n(1) 编辑本地hexo项目中`_config.yml`文件\n```\ndeploy:\n  type: git\n  repo: git@YourServerIp:/home/git/hexo.git\n  branch: master\n```\n(2) 配置Git全局变量\n<br>打开本机终端 \n```\ngit config --global user.name \"xxx\"\ngit config --global user.email \"xxx@xx.com\"\n```\n(4) 生成静态文件并推送到服务器\n`hexo clean&hexo deploy`\n\n**至此，已经全部配置完毕了**","slug":"deploy-hexo-to-server","published":1,"updated":"2025-12-21T05:12:22.830Z","comments":1,"layout":"post","photos":[],"_id":"cuidXxU-q9rw1SLV4GTG4YgPr","content":"<h1 id=\"从零开始部署Hexo到服务器\"><a href=\"#从零开始部署Hexo到服务器\" class=\"headerlink\" title=\"从零开始部署Hexo到服务器\"></a>从零开始部署Hexo到服务器</h1><h2 id=\"目录\"><a href=\"#目录\" class=\"headerlink\" title=\"目录\"></a>目录</h2><ul>\n<li><p><a href=\"#0-%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83\">0 运行环境</a></p>\n</li>\n<li><p><a href=\"#1-%E6%95%B4%E4%BD%93%E6%B5%81%E7%A8%8B\">1 整体流程</a></p>\n</li>\n<li><p><a href=\"#2-%E6%9C%AC%E5%9C%B0%E5%AE%89%E8%A3%85\">2 本地安装</a></p>\n</li>\n<li><p><a href=\"#3-%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E8%A3%85\">3 服务器安装</a></p>\n<ul>\n<li><p><a href=\"#31-%E5%AE%89%E8%A3%85nodejs%E5%92%8Cgit\">3.1 安装Node.js和Git</a></p>\n</li>\n<li><p><a href=\"#32-%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AEnginx\">3.2 安装和配置Nginx</a></p>\n</li>\n<li><p><a href=\"#33-git%E9%85%8D%E7%BD%AE\">3.3 Git配置</a></p>\n</li>\n</ul>\n</li>\n<li><p><a href=\"#4-%E9%83%A8%E7%BD%B2hexo%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8\">4 部署Hexo到服务器</a></p>\n</li>\n</ul>\n<h2 id=\"0-运行环境\"><a href=\"#0-运行环境\" class=\"headerlink\" title=\"0 运行环境\"></a>0 运行环境</h2><p>本地Windows11</p>\n<p>服务器Debian 12</p>\n<h2 id=\"1-整体流程\"><a href=\"#1-整体流程\" class=\"headerlink\" title=\"1 整体流程\"></a>1 整体流程</h2><ol>\n<li>本地运行hexo deploy，通过git推送到服务器</li>\n<li>在git仓库配置钩子脚本，在接收到推送后自动将最新的静态文件同步覆盖到指定的工作目录</li>\n<li>配置nginx服务器，将请求指向该工作目录</li>\n</ol>\n<h2 id=\"2-本地安装\"><a href=\"#2-本地安装\" class=\"headerlink\" title=\"2 本地安装\"></a>2 本地安装</h2><h3 id=\"2-1-安装-Node-js-和-Git\"><a href=\"#2-1-安装-Node-js-和-Git\" class=\"headerlink\" title=\"2.1 安装 Node.js 和 Git\"></a>2.1 安装 Node.js 和 Git</h3><p><a href=\"https://nodejs.org/dist/v24.12.0/node-v24.12.0-x64.msi\">Node.js安装链接</a></p>\n<p><a href=\"https://git-scm.cn/downloads/win\">Git安装包链接</a></p>\n<h4 id=\"使用git-v-node-v验证安装\"><a href=\"#使用git-v-node-v验证安装\" class=\"headerlink\" title=\"使用git -v,node -v验证安装\"></a>使用<code>git -v</code>,<code>node -v</code>验证安装</h4><pre><code class=\"highlight plaintext\">C:\\Users\\Admin&gt;git -v\ngit version 2.51.0.windows.1</code></pre>\n\n<pre><code class=\"highlight plaintext\">C:\\Users\\Admin&gt;node -v\nv25.2.0</code></pre>\n\n<h3 id=\"2-2-安装hexo\"><a href=\"#2-2-安装hexo\" class=\"headerlink\" title=\"2.2 安装hexo\"></a>2.2 安装hexo</h3><p><code>npm install -g hexo-cli</code> </p>\n<h3 id=\"2-3-初始化hexo\"><a href=\"#2-3-初始化hexo\" class=\"headerlink\" title=\"2.3 初始化hexo\"></a>2.3 初始化hexo</h3><p>新建一个文件夹 ，并在该文件夹路径下的终端运行<code>hexo init</code>，并安装hexo-deployer-git 插件<code>npm install hexo-deployer-git --save</code></p>\n<h2 id=\"3-服务器安装\"><a href=\"#3-服务器安装\" class=\"headerlink\" title=\"3 服务器安装\"></a>3 服务器安装</h2><h3 id=\"3-1-安装Node-js和Git\"><a href=\"#3-1-安装Node-js和Git\" class=\"headerlink\" title=\"3.1 安装Node.js和Git\"></a>3.1 安装Node.js和Git</h3><h4 id=\"更新系统\"><a href=\"#更新系统\" class=\"headerlink\" title=\"更新系统\"></a>更新系统</h4><pre><code class=\"highlight plaintext\">sudo apt update\nsudo apt upgrade -y</code></pre>\n\n<h4 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h4><pre><code class=\"highlight plaintext\">sudo apt install -y curl\n# 安装最新Node.js\ncurl -fsSL https://deb.nodesource.com/setup_current.x | sudo -E bash -\nsudo apt install nodejs -y\n# 安装Git\nsudo apt install -y git</code></pre>\n\n<h4 id=\"验证安装\"><a href=\"#验证安装\" class=\"headerlink\" title=\"验证安装\"></a>验证安装</h4><pre><code class=\"highlight plaintext\">node -v\nnpm -v\ngit -v</code></pre>\n\n<h3 id=\"3-2-安装和配置Nginx\"><a href=\"#3-2-安装和配置Nginx\" class=\"headerlink\" title=\"3.2 安装和配置Nginx\"></a>3.2 安装和配置Nginx</h3><h4 id=\"安装Nginx\"><a href=\"#安装Nginx\" class=\"headerlink\" title=\"安装Nginx\"></a>安装Nginx</h4><pre><code class=\"highlight plaintext\">apt install -y nginx</code></pre>\n\n<h5 id=\"配置Nginx\"><a href=\"#配置Nginx\" class=\"headerlink\" title=\"配置Nginx\"></a>配置Nginx</h5><p>创建Hexo运行目录<code>mkdir -p /data/hexo</code> 进入到<code>/etc/nginx/conf.d</code>目录下，通过<code>vim default.conf</code>创建配置文件</p>\n<ul>\n<li><p>无域名配置文件 (修改IP 为实际IP值)</p>\n<pre><code class=\"highlight plaintext\">server &#123;\n    listen        80;\n    listen   [::]:80;\n    server_name  IP;\n\n    location / &#123;\n        root   /data/hexo;\n        index  index.html index.htm;\n    &#125;\n\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html &#123;\n        root   /usr/share/nginx/html;\n    &#125;\n&#125;</code></pre>\n</li>\n<li><p>有域名且有SSL证书(修改<code>server_name</code>和SSL证书实际存放位置<code>ssl_certificate</code>,<code>ssl_certificate_key</code>)</p>\n</li>\n</ul>\n<pre><code class=\"highlight plaintext\">server &#123;\n    listen 80;\n    listen [::]:80;\n    server_name 你的域名;\n\n    return 301 https://$host$request_uri;\n&#125;\n\nserver &#123;\n    listen 443 ssl http2;\n    listen [::]:443 ssl http2;\n    server_name yourdomain.com www.yourdomain.com;\n\n    ssl_certificate     yourdomain.com.pem;\n    ssl_certificate_key yourdomain.com.key;\n\n    ssl_session_timeout 1d;\n    ssl_session_cache shared:MozSSL:10m;\n    ssl_session_tickets off;\n\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n\n    root /data/hexo;\n    index index.html index.htm;\n\n    location / &#123;\n        try_files $uri $uri/ =404;\n    &#125;\n\n    error_page 500 502 503 504 /50x.html;\n    location = /50x.html &#123;\n        root /usr/share/nginx/html;\n    &#125;\n&#125;</code></pre>\n\n<ul>\n<li><p>使用反向代理</p>\n<p>（待更新）</p>\n</li>\n</ul>\n<h4 id=\"3-3-Git配置\"><a href=\"#3-3-Git配置\" class=\"headerlink\" title=\"3.3 Git配置\"></a>3.3 Git配置</h4><h5 id=\"3-3-1-创建Git用户\"><a href=\"#3-3-1-创建Git用户\" class=\"headerlink\" title=\"3.3.1 创建Git用户\"></a>3.3.1 创建Git用户</h5><p><code>useradd git</code><br><br><br>修改git用户权限</p>\n<pre><code class=\"highlight plaintext\">sudo chmod 740 /etc/sudoers\nsudo vim /etc/sudoers</code></pre>\n<p>添加<code>git ALL=(ALL) ALL</code> </p>\n<pre><code class=\"highlight plaintext\"># User privilege specification\nroot    ALL=(ALL:ALL) ALL\ngit     ALL=(ALL:ALL) ALL</code></pre>\n<p>继续修改权限并添加密码</p>\n<pre><code class=\"highlight plaintext\">sudo chmod 400 /etc/sudoers\nsudo passwd git</code></pre>\n\n<h5 id=\"3-3-2-ssh免密登录\"><a href=\"#3-3-2-ssh免密登录\" class=\"headerlink\" title=\"3.3.2 ssh免密登录\"></a>3.3.2 ssh免密登录</h5><p>在本机打开Git终端，创建密钥对<code>ssh-keygen</code></p>\n<p>使用<code>ssh-copy-id</code>工具将公钥上传到服务器&#96;</p>\n<pre><code class=\"highlight plaintext\">ssh-copy-id -i ~/.ssh/id_ed25519.pub username@server_ip</code></pre>\n\n<p><strong>如果没有改命令(手动配置)</strong></p>\n<ol>\n<li><p>复制本地公钥内容</p>\n</li>\n<li><p>登录到服务器，切换到git用户并执行</p>\n<pre><code class=\"highlight plaintext\">mkdir -p ~/.ssh\necho &quot;粘贴公钥内容&quot; &gt;&gt; ~/.ssh/authorized_keys\nchmod 700 ~/.ssh\nchmod 600 ~/.ssh/authorized_keys</code></pre></li>\n<li><p>测试免密登录  <code>ssh -v git@YourServerIp</code></p>\n</li>\n</ol>\n<h4 id=\"3-3-3-创建Git目录，配置hooks文件\"><a href=\"#3-3-3-创建Git目录，配置hooks文件\" class=\"headerlink\" title=\"3.3.3 创建Git目录，配置hooks文件\"></a>3.3.3 创建Git目录，配置hooks文件</h4><pre><code class=\"highlight plaintext\">cd ~\ngit init --bare hexo.git\nvim ~/hexo.git/hooks/post-receive</code></pre>\n<p>插入<code>git --work-tree=/data/hexo --git-dir=/home/git/hexo.git checkout -f</code></p>\n<p><strong>修改hooks文件的权限</strong></p>\n<pre><code class=\"highlight plaintext\">chmod +x ~/hexo.git/hooks/post-receive\ncd ~\nsudo chmod -R 777 /data/hexo</code></pre>\n<p><strong>重启服务器</strong></p>\n<h2 id=\"4-部署Hexo到服务器\"><a href=\"#4-部署Hexo到服务器\" class=\"headerlink\" title=\"4 部署Hexo到服务器\"></a>4 部署Hexo到服务器</h2><p>(1) 编辑本地hexo项目中<code>_config.yml</code>文件</p>\n<pre><code class=\"highlight plaintext\">deploy:\n  type: git\n  repo: git@YourServerIp:/home/git/hexo.git\n  branch: master</code></pre>\n<p>(2) 配置Git全局变量<br><br>打开本机终端 </p>\n<pre><code class=\"highlight plaintext\">git config --global user.name &quot;xxx&quot;\ngit config --global user.email &quot;xxx@xx.com&quot;</code></pre>\n<p>(4) 生成静态文件并推送到服务器<br><code>hexo clean&amp;hexo deploy</code></p>\n<p><strong>至此，已经全部配置完毕了</strong></p>\n","excerpt":"","more":"<h1 id=\"从零开始部署Hexo到服务器\"><a href=\"#从零开始部署Hexo到服务器\" class=\"headerlink\" title=\"从零开始部署Hexo到服务器\"></a>从零开始部署Hexo到服务器</h1><h2 id=\"目录\"><a href=\"#目录\" class=\"headerlink\" title=\"目录\"></a>目录</h2><ul>\n<li><p><a href=\"#0-%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83\">0 运行环境</a></p>\n</li>\n<li><p><a href=\"#1-%E6%95%B4%E4%BD%93%E6%B5%81%E7%A8%8B\">1 整体流程</a></p>\n</li>\n<li><p><a href=\"#2-%E6%9C%AC%E5%9C%B0%E5%AE%89%E8%A3%85\">2 本地安装</a></p>\n</li>\n<li><p><a href=\"#3-%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E8%A3%85\">3 服务器安装</a></p>\n<ul>\n<li><p><a href=\"#31-%E5%AE%89%E8%A3%85nodejs%E5%92%8Cgit\">3.1 安装Node.js和Git</a></p>\n</li>\n<li><p><a href=\"#32-%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AEnginx\">3.2 安装和配置Nginx</a></p>\n</li>\n<li><p><a href=\"#33-git%E9%85%8D%E7%BD%AE\">3.3 Git配置</a></p>\n</li>\n</ul>\n</li>\n<li><p><a href=\"#4-%E9%83%A8%E7%BD%B2hexo%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8\">4 部署Hexo到服务器</a></p>\n</li>\n</ul>\n<h2 id=\"0-运行环境\"><a href=\"#0-运行环境\" class=\"headerlink\" title=\"0 运行环境\"></a>0 运行环境</h2><p>本地Windows11</p>\n<p>服务器Debian 12</p>\n<h2 id=\"1-整体流程\"><a href=\"#1-整体流程\" class=\"headerlink\" title=\"1 整体流程\"></a>1 整体流程</h2><ol>\n<li>本地运行hexo deploy，通过git推送到服务器</li>\n<li>在git仓库配置钩子脚本，在接收到推送后自动将最新的静态文件同步覆盖到指定的工作目录</li>\n<li>配置nginx服务器，将请求指向该工作目录</li>\n</ol>\n<h2 id=\"2-本地安装\"><a href=\"#2-本地安装\" class=\"headerlink\" title=\"2 本地安装\"></a>2 本地安装</h2><h3 id=\"2-1-安装-Node-js-和-Git\"><a href=\"#2-1-安装-Node-js-和-Git\" class=\"headerlink\" title=\"2.1 安装 Node.js 和 Git\"></a>2.1 安装 Node.js 和 Git</h3><p><a href=\"https://nodejs.org/dist/v24.12.0/node-v24.12.0-x64.msi\">Node.js安装链接</a></p>\n<p><a href=\"https://git-scm.cn/downloads/win\">Git安装包链接</a></p>\n<h4 id=\"使用git-v-node-v验证安装\"><a href=\"#使用git-v-node-v验证安装\" class=\"headerlink\" title=\"使用git -v,node -v验证安装\"></a>使用<code>git -v</code>,<code>node -v</code>验证安装</h4><pre><code class=\"highlight plaintext\">C:\\Users\\Admin&gt;git -v\ngit version 2.51.0.windows.1</code></pre>\n\n<pre><code class=\"highlight plaintext\">C:\\Users\\Admin&gt;node -v\nv25.2.0</code></pre>\n\n<h3 id=\"2-2-安装hexo\"><a href=\"#2-2-安装hexo\" class=\"headerlink\" title=\"2.2 安装hexo\"></a>2.2 安装hexo</h3><p><code>npm install -g hexo-cli</code> </p>\n<h3 id=\"2-3-初始化hexo\"><a href=\"#2-3-初始化hexo\" class=\"headerlink\" title=\"2.3 初始化hexo\"></a>2.3 初始化hexo</h3><p>新建一个文件夹 ，并在该文件夹路径下的终端运行<code>hexo init</code>，并安装hexo-deployer-git 插件<code>npm install hexo-deployer-git --save</code></p>\n<h2 id=\"3-服务器安装\"><a href=\"#3-服务器安装\" class=\"headerlink\" title=\"3 服务器安装\"></a>3 服务器安装</h2><h3 id=\"3-1-安装Node-js和Git\"><a href=\"#3-1-安装Node-js和Git\" class=\"headerlink\" title=\"3.1 安装Node.js和Git\"></a>3.1 安装Node.js和Git</h3><h4 id=\"更新系统\"><a href=\"#更新系统\" class=\"headerlink\" title=\"更新系统\"></a>更新系统</h4><pre><code class=\"highlight plaintext\">sudo apt update\nsudo apt upgrade -y</code></pre>\n\n<h4 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h4><pre><code class=\"highlight plaintext\">sudo apt install -y curl\n# 安装最新Node.js\ncurl -fsSL https://deb.nodesource.com/setup_current.x | sudo -E bash -\nsudo apt install nodejs -y\n# 安装Git\nsudo apt install -y git</code></pre>\n\n<h4 id=\"验证安装\"><a href=\"#验证安装\" class=\"headerlink\" title=\"验证安装\"></a>验证安装</h4><pre><code class=\"highlight plaintext\">node -v\nnpm -v\ngit -v</code></pre>\n\n<h3 id=\"3-2-安装和配置Nginx\"><a href=\"#3-2-安装和配置Nginx\" class=\"headerlink\" title=\"3.2 安装和配置Nginx\"></a>3.2 安装和配置Nginx</h3><h4 id=\"安装Nginx\"><a href=\"#安装Nginx\" class=\"headerlink\" title=\"安装Nginx\"></a>安装Nginx</h4><pre><code class=\"highlight plaintext\">apt install -y nginx</code></pre>\n\n<h5 id=\"配置Nginx\"><a href=\"#配置Nginx\" class=\"headerlink\" title=\"配置Nginx\"></a>配置Nginx</h5><p>创建Hexo运行目录<code>mkdir -p /data/hexo</code> 进入到<code>/etc/nginx/conf.d</code>目录下，通过<code>vim default.conf</code>创建配置文件</p>\n<ul>\n<li><p>无域名配置文件 (修改IP 为实际IP值)</p>\n<pre><code class=\"highlight plaintext\">server &#123;\n    listen        80;\n    listen   [::]:80;\n    server_name  IP;\n\n    location / &#123;\n        root   /data/hexo;\n        index  index.html index.htm;\n    &#125;\n\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html &#123;\n        root   /usr/share/nginx/html;\n    &#125;\n&#125;</code></pre>\n</li>\n<li><p>有域名且有SSL证书(修改<code>server_name</code>和SSL证书实际存放位置<code>ssl_certificate</code>,<code>ssl_certificate_key</code>)</p>\n</li>\n</ul>\n<pre><code class=\"highlight plaintext\">server &#123;\n    listen 80;\n    listen [::]:80;\n    server_name 你的域名;\n\n    return 301 https://$host$request_uri;\n&#125;\n\nserver &#123;\n    listen 443 ssl http2;\n    listen [::]:443 ssl http2;\n    server_name yourdomain.com www.yourdomain.com;\n\n    ssl_certificate     yourdomain.com.pem;\n    ssl_certificate_key yourdomain.com.key;\n\n    ssl_session_timeout 1d;\n    ssl_session_cache shared:MozSSL:10m;\n    ssl_session_tickets off;\n\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n\n    root /data/hexo;\n    index index.html index.htm;\n\n    location / &#123;\n        try_files $uri $uri/ =404;\n    &#125;\n\n    error_page 500 502 503 504 /50x.html;\n    location = /50x.html &#123;\n        root /usr/share/nginx/html;\n    &#125;\n&#125;</code></pre>\n\n<ul>\n<li><p>使用反向代理</p>\n<p>（待更新）</p>\n</li>\n</ul>\n<h4 id=\"3-3-Git配置\"><a href=\"#3-3-Git配置\" class=\"headerlink\" title=\"3.3 Git配置\"></a>3.3 Git配置</h4><h5 id=\"3-3-1-创建Git用户\"><a href=\"#3-3-1-创建Git用户\" class=\"headerlink\" title=\"3.3.1 创建Git用户\"></a>3.3.1 创建Git用户</h5><p><code>useradd git</code><br><br><br>修改git用户权限</p>\n<pre><code class=\"highlight plaintext\">sudo chmod 740 /etc/sudoers\nsudo vim /etc/sudoers</code></pre>\n<p>添加<code>git ALL=(ALL) ALL</code> </p>\n<pre><code class=\"highlight plaintext\"># User privilege specification\nroot    ALL=(ALL:ALL) ALL\ngit     ALL=(ALL:ALL) ALL</code></pre>\n<p>继续修改权限并添加密码</p>\n<pre><code class=\"highlight plaintext\">sudo chmod 400 /etc/sudoers\nsudo passwd git</code></pre>\n\n<h5 id=\"3-3-2-ssh免密登录\"><a href=\"#3-3-2-ssh免密登录\" class=\"headerlink\" title=\"3.3.2 ssh免密登录\"></a>3.3.2 ssh免密登录</h5><p>在本机打开Git终端，创建密钥对<code>ssh-keygen</code></p>\n<p>使用<code>ssh-copy-id</code>工具将公钥上传到服务器&#96;</p>\n<pre><code class=\"highlight plaintext\">ssh-copy-id -i ~/.ssh/id_ed25519.pub username@server_ip</code></pre>\n\n<p><strong>如果没有改命令(手动配置)</strong></p>\n<ol>\n<li><p>复制本地公钥内容</p>\n</li>\n<li><p>登录到服务器，切换到git用户并执行</p>\n<pre><code class=\"highlight plaintext\">mkdir -p ~/.ssh\necho &quot;粘贴公钥内容&quot; &gt;&gt; ~/.ssh/authorized_keys\nchmod 700 ~/.ssh\nchmod 600 ~/.ssh/authorized_keys</code></pre></li>\n<li><p>测试免密登录  <code>ssh -v git@YourServerIp</code></p>\n</li>\n</ol>\n<h4 id=\"3-3-3-创建Git目录，配置hooks文件\"><a href=\"#3-3-3-创建Git目录，配置hooks文件\" class=\"headerlink\" title=\"3.3.3 创建Git目录，配置hooks文件\"></a>3.3.3 创建Git目录，配置hooks文件</h4><pre><code class=\"highlight plaintext\">cd ~\ngit init --bare hexo.git\nvim ~/hexo.git/hooks/post-receive</code></pre>\n<p>插入<code>git --work-tree=/data/hexo --git-dir=/home/git/hexo.git checkout -f</code></p>\n<p><strong>修改hooks文件的权限</strong></p>\n<pre><code class=\"highlight plaintext\">chmod +x ~/hexo.git/hooks/post-receive\ncd ~\nsudo chmod -R 777 /data/hexo</code></pre>\n<p><strong>重启服务器</strong></p>\n<h2 id=\"4-部署Hexo到服务器\"><a href=\"#4-部署Hexo到服务器\" class=\"headerlink\" title=\"4 部署Hexo到服务器\"></a>4 部署Hexo到服务器</h2><p>(1) 编辑本地hexo项目中<code>_config.yml</code>文件</p>\n<pre><code class=\"highlight plaintext\">deploy:\n  type: git\n  repo: git@YourServerIp:/home/git/hexo.git\n  branch: master</code></pre>\n<p>(2) 配置Git全局变量<br><br>打开本机终端 </p>\n<pre><code class=\"highlight plaintext\">git config --global user.name &quot;xxx&quot;\ngit config --global user.email &quot;xxx@xx.com&quot;</code></pre>\n<p>(4) 生成静态文件并推送到服务器<br><code>hexo clean&amp;hexo deploy</code></p>\n<p><strong>至此，已经全部配置完毕了</strong></p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cuidXxU-q9rw1SLV4GTG4YgPr","category_id":"cuidd1bMhNs9gskVhPfjeXzCK","_id":"cuid8QBxlf9qcMY-RsaCQLMO8"}],"PostTag":[{"post_id":"cuidXxU-q9rw1SLV4GTG4YgPr","tag_id":"cuidOIzJY-Yx-NGJSA2gtEu18","_id":"cuidTJVEERgvCOA-QglKQ4JGN"}],"Tag":[{"name":"部署","_id":"cuidOIzJY-Yx-NGJSA2gtEu18"}]}}